(()=>{"use strict";let e=(e,t=500,o=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=o?`${o}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!o,!o&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!o&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},t=(e,t=500,o=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,o&&e.style.removeProperty("height");let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=o?`${o}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},o=!0,r=(e=500)=>{let t=document.querySelector("body");if(o){let r=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<r.length;e++){r[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),o=!1,setTimeout((function(){o=!0}),e)}};let l=(e,t=!1,o=500,l=0)=>{const s=document.querySelector(e);if(s){let e="",n=0;t&&(e="header.header",n=document.querySelector(e).offsetHeight);let a={speedAsDuration:!0,speed:o,header:e,offset:l,easing:"easeOutQuad"};document.documentElement.classList.contains("menu-open")&&(r(),document.documentElement.classList.remove("menu-open")),"undefined"!=typeof SmoothScroll?(new SmoothScroll).animateScroll(s,"",a):window.scrollTo({top:n?s.getBoundingClientRect().top-n:s.getBoundingClientRect().top,behavior:"smooth"})}else console.log(`[gotoBlock]: Такого блока нет на странице: ${e}`)};const s={inputMaskModule:null,selectModule:null};let n={getErrors(e){let t=0,o=e.querySelectorAll("*[data-required]");return o.length&&o.forEach((e=>{null===e.offsetParent&&"SELECT"!==e.tagName||e.disabled||(t+=this.validateInput(e))})),t},validateInput(e){let t=0;return"email"===e.dataset.required?(e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),t++):this.removeError(e)):("checkbox"!==e.type||e.checked)&&e.value?this.removeError(e):(this.addError(e),t++),t},addError(e){e.classList.add("_form-error"),e.parentElement.classList.add("_form-error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t),e.dataset.error&&e.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${e.dataset.error}</div>`)},removeError(e){e.classList.remove("_form-error"),e.parentElement.classList.remove("_form-error"),e.parentElement.querySelector(".form__error")&&e.parentElement.removeChild(e.parentElement.querySelector(".form__error"))},formClean(e){e.reset(),setTimeout((()=>{let t=e.querySelectorAll("input,textarea");for(let e=0;e<t.length;e++){const o=t[e];o.parentElement.classList.remove("_form-focus"),o.classList.remove("_form-focus"),n.removeError(o),o.value=o.dataset.placeholder}let o=e.querySelectorAll(".checkbox__input");if(o.length>0)for(let e=0;e<o.length;e++){o[e].checked=!1}if(s.selectModule){let t=e.querySelectorAll(".select");if(t.length)for(let e=0;e<t.length;e++){const o=t[e].querySelector("select");s.selectModule.selectBuild(o)}}}),0)},emailTest:e=>!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)};const a=document.getElementById("formImage"),i=document.getElementById("formPreview");a.addEventListener("change",(()=>{!function(e){if(!["image/jpeg","image/png","image/pdf"].includes(e.type))return alert("Разрешены только изображения."),void(a.value="");if(e.size>2097152)return void alert("Файл должен быть менее 2 МБ.");var t=new FileReader;t.onload=function(e){i.innerHTML=`<img src="${e.target.result}" alt="Фото">`},t.onerror=function(e){alert("Ошибка")},t.readAsDataURL(e)}(a.files[0])}));let c=!1;setTimeout((()=>{if(c){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const d=document.querySelector(".form-spoller__more"),m=document.querySelector(".form-spoller__images");d.addEventListener("click",(()=>{m.classList.toggle("_active")}));const u=document.querySelector(".form-spoller__more-first"),p=document.querySelector(".form-spoller__images-first");u.addEventListener("click",(()=>{p.classList.toggle("_active")}));const f=document.querySelector(".form-spoller__more-last"),g=document.querySelector(".form-spoller__images-last");f.addEventListener("click",(()=>{g.classList.toggle("_active")})),function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),function(){const o=document.querySelectorAll("[data-spollers]");if(o.length>0){const r=Array.from(o).filter((function(e,t,o){return!e.dataset.spollers.split(",")[0]}));r.length>0&&s(r);const l=Array.from(o).filter((function(e,t,o){return e.dataset.spollers.split(",")[0]}));if(l.length>0){const e=[];l.forEach((t=>{const o={},r=t.dataset.spollers.split(",");o.value=r[0],o.type=r[1]?r[1].trim():"max",o.item=t,e.push(o)}));let t=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));t=t.filter((function(e,t,o){return o.indexOf(e)===t})),t.forEach((t=>{const o=t.split(","),r=o[1],l=o[2],n=window.matchMedia(o[0]),a=e.filter((function(e){if(e.value===r&&e.type===l)return!0}));n.addEventListener("change",(function(){s(a,n)})),s(a,n)}))}function s(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_spoller-init"),n(e),e.addEventListener("click",a)):(e.classList.remove("_spoller-init"),n(e,!1),e.removeEventListener("click",a))}))}function n(e,t=!0){const o=e.querySelectorAll("[data-spoller]");o.length>0&&o.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_spoller-active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function a(o){const r=o.target;if(r.hasAttribute("data-spoller")||r.closest("[data-spoller]")){const l=r.hasAttribute("data-spoller")?r:r.closest("[data-spoller]"),s=l.closest("[data-spollers]"),n=!!s.hasAttribute("data-one-spoller");s.querySelectorAll("._slide").length||(n&&!l.classList.contains("_spoller-active")&&i(s),l.classList.toggle("_spoller-active"),((o,r=500)=>{o.hidden?t(o,r):e(o,r)})(l.nextElementSibling,500)),o.preventDefault()}}function i(t){const o=t.querySelector("[data-spoller]._spoller-active");o&&(o.classList.remove("_spoller-active"),e(o.nextElementSibling,500))}}}(),function(){const e=document.querySelectorAll("input[placeholder],textarea[placeholder]");e.length&&e.forEach((e=>{e.dataset.placeholder=e.placeholder})),document.body.addEventListener("focusin",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=""),t.classList.add("_form-focus"),t.parentElement.classList.add("_form-focus"),n.removeError(t))})),document.body.addEventListener("focusout",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=t.dataset.placeholder),t.classList.remove("_form-focus"),t.parentElement.classList.remove("_form-focus"),t.hasAttribute("data-validate")&&n.validateInput(t))}))}(),function(e){const t=document.forms;if(t.length)for(const e of t)e.addEventListener("submit",(function(e){o(e.target,e)})),e.addEventListener("reset",(function(e){const t=e.target;n.formClean(t)}));async function o(t,o){if(0===(e?n.getErrors(t):0)){const e=t.dataset.popup;if(t.hasAttribute("data-ajax")){o.preventDefault();t.getAttribute("action")&&t.getAttribute("action").trim(),t.getAttribute("method")&&t.getAttribute("method").trim();const r=new FormData(t);r.append("image",a.files[0]),t.classList.add("_sending");const l=await fetch("sendmail.php",{method:"POST",body:r});if(l.ok){await l.json();t.classList.remove("_sending"),e&&popupItem.open(`#${e}`)}else alert("Ошибка"),t.classList.remove("_sending")}t.hasAttribute("data-dev")&&(o.preventDefault(),e&&popupItem.open(`#${e}`),n.formClean(t))}else{o.preventDefault();const e=t.querySelector("._form-error");e&&t.hasAttribute("data-goto-error")&&l(e,!0,1e3)}}}(!0)})();